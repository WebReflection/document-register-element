/*! (C) WebReflection Mit Style License */
define(function(){function R(e,t){for(var n=0,r=e.length;n<r;n++)G(e[n],t)}function U(e){for(var t=0,n=e.length,r;t<n;t++)r=e[t],q(r,l[W(r)])}function z(e){return function(t){m.call(C,t)&&(G(t,e),R(t.querySelectorAll(c),e))}}function W(e){var t=e.getAttribute("is"),n=e.nodeName,r=p.call(f,t?o+t.toUpperCase():s+n);return t&&-1<r&&!X(n,t)?-1:r}function X(e,t){return-1<c.indexOf(e+'[is="'+t+'"]')}function V(e){var t=e.currentTarget,n=e.attrChange,r=e.prevValue,i=e.newValue;t.attributeChangedCallback&&e.attrName!=="style"&&t.attributeChangedCallback(e.attrName,n===e.ADDITION?null:r,n===e.REMOVAL?null:i)}function $(e){var t=z(e);return function(e){t(e.target)}}function J(e){P&&(P=!1,e.currentTarget.removeEventListener(r,J)),R((e.target||document).querySelectorAll(c),"attached")}function K(e,t){var n=this;L.call(n,e,t),H.call(n,{target:n})}function Q(t,r){T(t,r),F?F.observe(t,O):(D&&(t.setAttribute=K,t[e]=j(t),t.addEventListener(i,H)),t.addEventListener(n,V)),t.createdCallback&&(t.created=!0,t.createdCallback(),t.created=!1)}function G(e,t){var n,r=W(e),i="attached",s="detached";-1<r&&(I(e,l[r]),r=0,t===i&&!e[i]?(e[s]=!1,e[i]=!0,r=1):t===s&&!e[s]&&(e[i]=!1,e[s]=!0,r=1),r&&(n=e[t+"Callback"])&&n.call(e))}var e="__"+REGISTER_ELEMENT+(Math.random()*1e5>>0),t="extends",n="DOMAttrModified",r="DOMContentLoaded",i="DOMSubtreeModified",s="<",o="=",u=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,a=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],f=[],l=[],c="",h=document.documentElement,p=f.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},d=Object.prototype,v=d.hasOwnProperty,m=d.isPrototypeOf,g=Object.defineProperty,y=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,w=Object.getPrototypeOf,E=Object.setPrototypeOf,S=!!Object.__proto__,x=Object.create||function Y(e){return e?(Y.prototype=e,new Y):this},T=E||(S?function(e,t){return e.__proto__=t,e}:b&&y?function(){function e(e,t){for(var n,r=b(t),i=0,s=r.length;i<s;i++)n=r[i],v.call(e,n)||g(e,n,y(t,n))}return function(t,n){do e(t,n);while(n=w(n));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),N=window.MutationObserver||window.WebKitMutationObserver,C=(window.HTMLElement||window.Element||window.Node).prototype,k=C.cloneNode,L=C.setAttribute,A=document.createElement,O=N&&{attributes:!0,characterData:!0,attributeOldValue:!0},M=N||function(e){D=!1,h.removeEventListener(n,M)},_=!1,D=!0,P=!0,H,B,j,F,I,q;E||S?(I=function(e,t){m.call(t,e)||Q(e,t)},q=Q):(I=function(t,n){t[e]||(t[e]=Object(!0),Q(t,n))},q=I),N||(h.addEventListener(n,M),h.setAttribute(e,1),h.removeAttribute(e),D&&(H=function(t){var n=this,r,i,s;if(n===t.target){r=n[e],n[e]=i=j(n);for(s in i){if(!(s in r))return B(0,n,s,r[s],i[s],"ADDITION");if(i[s]!==r[s])return B(1,n,s,r[s],i[s],"MODIFICATION")}for(s in r)if(!(s in i))return B(2,n,s,r[s],i[s],"REMOVAL")}},B=function(e,t,n,r,i,s){var o={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};o[s]=e,V(o)},j=function(e){for(var t,n,r={},i=e.attributes,s=0,o=i.length;s<o;s++)t=i[s],n=t.name,n!=="setAttribute"&&(r[n]=t.value);return r})),document[REGISTER_ELEMENT]=function(n,i){w=n.toUpperCase(),_||(_=!0,N?(F=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new N(function(r){for(var i,s,o=0,u=r.length;o<u;o++)i=r[o],i.type==="childList"?(n(i.addedNodes,e),n(i.removedNodes,t)):(s=i.target,s.attributeChangedCallback&&i.attributeName!=="style"&&s.attributeChangedCallback(i.attributeName,i.oldValue,s.getAttribute(i.attributeName)))})}(z("attached"),z("detached")),F.observe(document,{childList:!0,subtree:!0})):(document.addEventListener("DOMNodeInserted",$("attached")),document.addEventListener("DOMNodeRemoved",$("detached"))),document.addEventListener(r,J),document.addEventListener("readystatechange",J),document.createElement=function(e,t){e=String(e);var n=A.apply(document,arguments),r=p.call(f,(t?o:s)+(t||e).toUpperCase()),i=-1<r;return t&&(n.setAttribute("is",t=t.toLowerCase()),i&&(i=X(e.toUpperCase(),t))),i&&q(n,l[r]),n},C.cloneNode=function(e){var t=k.call(this,!!e),n=W(t);return-1<n&&q(t,l[n]),e&&U(t.querySelectorAll(c)),t});if(-2<p.call(f,o+w)+p.call(f,s+w))throw new Error("A "+n+" type is already registered");if(!u.test(w)||-1<p.call(a,w))throw new Error("The type "+n+" is invalid");var h=function(){return document.createElement(y,g&&w)},m=i||d,g=v.call(m,t),y=g?i[t].toUpperCase():w,b=f.push((g?o:s)+w)-1,w;return c=c.concat(c.length?",":"",g?y+'[is="'+n.toLowerCase()+'"]':y),h.prototype=l[b]=v.call(m,"prototype")?m.prototype:x(C),R(document.querySelectorAll(c),"attached"),h}});